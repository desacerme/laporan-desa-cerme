<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desa Cerma - Sistem Laporan Masyarakat</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        /* Floating particles animation */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 15s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            position: relative;
            z-index: 10;
            opacity: 0;
            transform: translateY(50px);
            animation: slideInUp 1s ease-out forwards;
        }

        @keyframes slideInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 50px 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .header-icon {
            font-size: 56px;
            margin-bottom: 15px;
            animation: bounceIn 1.5s ease-out;
        }

        @keyframes bounceIn {
            0% {
                transform: scale(0);
                opacity: 0;
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .header h1 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 12px;
            letter-spacing: 1px;
            animation: fadeInDown 1s ease-out 0.3s both;
        }

        .header p {
            font-size: 18px;
            opacity: 0.95;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
            animation: fadeInUp 1s ease-out 0.6s both;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            padding: 40px 30px;
            background: linear-gradient(135deg, #f8f9ff 0%, #e8edff 100%);
            border-bottom: 1px solid #e5e7eb;
        }

        .feature {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            opacity: 0;
            transform: translateY(50px);
            animation: slideInStagger 0.8s ease-out forwards;
        }

        .feature:nth-child(1) { animation-delay: 0.2s; }
        .feature:nth-child(2) { animation-delay: 0.4s; }
        .feature:nth-child(3) { animation-delay: 0.6s; }

        @keyframes slideInStagger {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .feature:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 15px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-icon::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transition: all 0.5s ease;
            transform: translate(-50%, -50%);
        }

        .feature:hover .feature-icon::before {
            width: 100%;
            height: 100%;
        }

        .feature-icon.clock { 
            background: linear-gradient(135deg, #3b82f6, #1d4ed8); 
        }
        .feature-icon.shield { 
            background: linear-gradient(135deg, #10b981, #047857); 
        }
        .feature-icon.eye { 
            background: linear-gradient(135deg, #8b5cf6, #7c3aed); 
        }

        .feature-icon i {
            animation: pulse 2s infinite;
            z-index: 1;
            position: relative;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .feature h3 {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 8px;
            color: #1f2937;
            transition: color 0.3s ease;
        }

        .feature:hover h3 {
            color: #667eea;
        }

        .feature p {
            font-size: 14px;
            color: #6b7280;
            line-height: 1.5;
            transition: color 0.3s ease;
        }

        .feature:hover p {
            color: #4b5563;
        }

        /* Form Container dengan Margin Top yang Lebih Besar */
        .form-container {
            padding: 60px 30px 40px; /* Increased top padding from 40px to 60px */
            margin-top: 40px; /* Added margin-top */
        }

        .form-section-title {
            text-align: center;
            margin-bottom: 40px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.8s ease-out 0.8s forwards;
        }

        .form-section-title h2 {
            font-size: 28px;
            color: #1f2937;
            margin-bottom: 12px;
            font-weight: 700;
        }

        .form-section-title p {
            font-size: 16px;
            color: #6b7280;
            line-height: 1.6;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }

        .form-group {
            width: 100%;
            opacity: 0;
            transform: translateX(-30px);
            animation: slideInLeft 0.6s ease-out forwards;
        }

        .form-group:nth-child(even) {
            transform: translateX(30px);
            animation: slideInRight 0.6s ease-out forwards;
        }

        .form-group:nth-child(1) { animation-delay: 1s; }
        .form-group:nth-child(2) { animation-delay: 1.1s; }
        .form-group:nth-child(3) { animation-delay: 1.2s; }
        .form-group:nth-child(4) { animation-delay: 1.3s; }

        @keyframes slideInLeft {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .form-group.full-width {
            grid-column: 1 / -1;
            transform: translateY(30px);
            animation: slideInUp 0.6s ease-out forwards;
        }

        .form-group label {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            font-weight: 600;
            color: #374151;
            font-size: 15px;
            transition: all 0.3s ease;
        }

        .form-group label i {
            margin-right: 10px;
            color: #667eea;
            width: 18px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .form-group:hover label i {
            transform: scale(1.2);
            color: #4f46e5;
        }

        input, select, textarea {
            width: 100%;
            padding: 15px 18px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: inherit;
            position: relative;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
            background: linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%);
        }

        input::placeholder, textarea::placeholder {
            color: #9ca3af;
            transition: all 0.3s ease;
        }

        input:focus::placeholder, textarea:focus::placeholder {
            transform: translateY(-2px);
            opacity: 0.7;
        }

        textarea {
            resize: vertical;
            min-height: 120px;
            line-height: 1.6;
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin: 25px 0;
            padding: 20px;
            background: #f8f9ff;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            opacity: 0;
            transform: scale(0.9);
            animation: scaleIn 0.6s ease-out 1.5s forwards;
            transition: all 0.3s ease;
        }

        .checkbox-group:hover {
            background: #eff6ff;
            transform: scale(1.02);
        }

        @keyframes scaleIn {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-top: 2px;
            accent-color: #667eea;
            transition: transform 0.2s ease;
        }

        .checkbox-group input[type="checkbox"]:checked {
            transform: scale(1.2);
        }

        .checkbox-group label {
            font-size: 14px;
            color: #4b5563;
            line-height: 1.6;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .checkbox-group:hover label {
            color: #1f2937;
        }

        .submit-btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(30px);
            animation: slideInUp 0.6s ease-out 1.7s forwards;
        }

        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .submit-btn:hover::before {
            left: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 12px 30px rgba(102, 126, 234, 0.4);
        }

        .submit-btn:active {
            transform: translateY(-2px) scale(0.98);
        }

        .submit-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .footer {
            background: linear-gradient(135deg, #f8f9ff 0%, #e8edff 100%);
            padding: 40px 30px;
            border-top: 1px solid #e5e7eb;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            text-align: center;
        }

        .footer-item {
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            opacity: 0;
            transform: translateY(30px);
            animation: slideInUp 0.6s ease-out forwards;
            transition: all 0.3s ease;
        }

        .footer-item:nth-child(1) { animation-delay: 0.2s; }
        .footer-item:nth-child(2) { animation-delay: 0.4s; }
        .footer-item:nth-child(3) { animation-delay: 0.6s; }

        .footer-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .footer-item i {
            font-size: 24px;
            margin-bottom: 12px;
            color: #667eea;
            transition: all 0.3s ease;
        }

        .footer-item:hover i {
            transform: scale(1.2) rotate(5deg);
            color: #4f46e5;
        }

        .footer-item h4 {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 8px;
            color: #1f2937;
            transition: color 0.3s ease;
        }

        .footer-item:hover h4 {
            color: #667eea;
        }

        .footer-item p {
            font-size: 14px;
            color: #6b7280;
            line-height: 1.5;
        }

        .copyright {
            text-align: center;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid #e5e7eb;
            font-size: 13px;
            color: #9ca3af;
            opacity: 0;
            animation: fadeIn 1s ease-out 2s forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        .made-with {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 12px;
            z-index: 1000;
            opacity: 0;
            transform: translateX(100px);
            animation: slideInFromRight 1s ease-out 2.5s forwards;
            transition: all 0.3s ease;
        }

        .made-with:hover {
            background: rgba(0, 0, 0, 0.9);
            transform: scale(1.1);
        }

        @keyframes slideInFromRight {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Success animation */
        .success-checkmark {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #10b981;
            position: relative;
            margin-right: 8px;
        }

        .success-checkmark::after {
            content: '';
            position: absolute;
            left: 6px;
            top: 3px;
            width: 6px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
            animation: checkmark 0.5s ease-in-out;
        }

        @keyframes checkmark {
            0% { height: 0; }
            100% { height: 10px; }
        }

        /* Error message */
        .error-message {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #dc2626;
            padding: 12px 16px;
            border-radius: 8px;
            margin: 15px 0;
            font-size: 14px;
            display: none;
        }

        .success-message {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            color: #166534;
            padding: 12px 16px;
            border-radius: 8px;
            margin: 15px 0;
            font-size: 14px;
            display: none;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                max-width: 100%;
                border-radius: 15px;
            }

            .header {
                padding: 30px 20px;
            }

            .header-icon {
                font-size: 48px;
                margin-bottom: 12px;
            }

            .header h1 {
                font-size: 24px;
                margin-bottom: 10px;
            }

            .header p {
                font-size: 16px;
            }

            .features {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 25px 20px;
            }

            .feature {
                padding: 15px;
            }

            .feature-icon {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }

            .form-container {
                padding: 40px 20px 25px; /* Adjusted padding for mobile */
                margin-top: 20px; /* Reduced margin-top for mobile */
            }

            .form-section-title h2 {
                font-size: 24px;
            }

            .form-section-title p {
                font-size: 15px;
            }

            .form-row {
                grid-template-columns: 1fr;
                gap: 20px;
                margin-bottom: 20px;
            }

            .form-group,
            .form-group:nth-child(even) {
                transform: translateY(30px);
                animation: slideInUp 0.6s ease-out forwards;
            }

            .footer {
                padding: 25px 20px;
            }

            .footer-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .made-with {
                position: static;
                margin: 20px auto 0;
                width: fit-content;
                display: block;
                transform: none;
                animation: fadeIn 1s ease-out 2s forwards;
            }
        }

        @media (max-width: 480px) {
            .header {
                padding: 25px 15px;
            }

            .header h1 {
                font-size: 22px;
            }

            .header p {
                font-size: 15px;
            }

            .form-container {
                padding: 30px 15px 20px; /* Further adjusted for smaller screens */
                margin-top: 15px;
            }

            .form-section-title h2 {
                font-size: 22px;
            }

            input, select, textarea {
                padding: 12px 15px;
                font-size: 14px;
            }

            .submit-btn {
                padding: 15px;
                font-size: 16px;
            }

            .checkbox-group {
                padding: 15px;
            }

            .footer {
                padding: 20px 15px;
            }
        }

        /* Reduced motion for accessibility */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            .particles {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Floating particles -->
    <div class="particles" id="particles"></div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-icon">
                <i class="fas fa-landmark"></i>
            </div>
            <h1>Desa Cerma</h1>
            <p>Sistem Laporan Masyarakat<br>Sampaikan aspirasi dan keluhan Anda untuk kemajuan desa bersama</p>
        </div>

        <!-- Features -->
        <div class="features">
            <div class="feature">
                <div class="feature-icon clock">
                    <i class="fas fa-clock"></i>
                </div>
                <h3>Respon Cepat</h3>
                <p>Laporan akan diproses dalam 1×24 jam</p>
            </div>
            <div class="feature">
                <div class="feature-icon shield">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h3>Data Aman</h3>
                <p>Identitas pelapor dijamin kerahasiaaannya</p>
            </div>
            <div class="feature">
                <div class="feature-icon eye">
                    <i class="fas fa-eye"></i>
                </div>
                <h3>Transparansi</h3>
                <p>Proses penanganan yang terbuka dan akuntabel</p>
            </div>
        </div>

        <!-- Form -->
        <div class="form-container">
            <!-- Error & Success Messages -->
            <div id="errorMessage" class="error-message"></div>
            <div id="successMessage" class="success-message"></div>

            <form id="reportForm">
                <div class="form-row">
                    <div class="form-group">
                        <label><i class="fas fa-user"></i>Nama Lengkap</label>
                        <input type="text" name="nama" placeholder="Masukkan nama lengkap Anda" required>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-phone"></i>Nomor Telepon</label>
                        <input type="tel" name="telepon" placeholder="Contoh: 08123456789" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label><i class="fas fa-envelope"></i>Email</label>
                        <input type="email" name="email" placeholder="contoh@email.com" required>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-map-marker-alt"></i>Alamat/RT</label>
                        <input type="text" name="alamat" placeholder="Contoh: RT 01/RW 02" required>
                    </div>
                </div>

                <div class="form-group full-width">
                    <label><i class="fas fa-list"></i>Jenis Laporan</label>
                    <select name="jenis_laporan" required>
                        <option value="">Pilih jenis laporan</option>
                        <option value="infrastruktur">Infrastruktur</option>
                        <option value="kebersihan">Kebersihan</option>
                        <option value="keamanan">Keamanan</option>
                        <option value="pelayanan">Pelayanan Publik</option>
                        <option value="sosial">Sosial Kemasyarakatan</option>
                        <option value="ekonomi">Ekonomi</option>
                        <option value="lainnya">Lainnya</option>
                    </select>
                </div>

                <div class="form-group full-width">
                    <label><i class="fas fa-heading"></i>Judul Laporan</label>
                    <input type="text" name="judul" placeholder="Masukkan judul singkat laporan Anda" required>
                </div>

                <div class="form-group full-width">
                    <label><i class="fas fa-file-alt"></i>Detail Laporan</label>
                    <textarea name="detail" placeholder="Jelaskan secara detail laporan Anda. Sertakan informasi seperti lokasi kejadian, waktu, dan dampak yang dirasakan..." required></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label><i class="fas fa-calendar-alt"></i>Tanggal Kejadian</label>
                        <input type="date" name="tanggal" required>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-exclamation-triangle"></i>Tingkat Urgensi</label>
                        <select name="urgensi" required>
                            <option value="">Pilih tingkat urgensi</option>
                            <option value="rendah">Rendah</option>
                            <option value="sedang">Sedang</option>
                            <option value="tinggi">Tinggi</option>
                            <option value="sangat_tinggi">Sangat Tinggi</option>
                        </select>
                    </div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="agreement" name="agreement" required>
                    <label for="agreement">Saya menyetujui bahwa data yang saya berikan adalah benar dan dapat digunakan oleh Pemerintah Desa Cerma untuk tindak lanjut laporan ini.</label>
                </div>

                <button type="submit" class="submit-btn">
                    <i class="fas fa-paper-plane"></i> Kirim Laporan
                </button>
            </form>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-content">
                <div class="footer-item">
                    <i class="fas fa-user-tie"></i>
                   <h4>Kepala Desa Cerma</h4>
                   <p>Bpk. [Nama Kepala Desa]<br>kepala.desa@desax.co.id</p>
               </div>
               <div class="footer-item">
                   <i class="fas fa-clock"></i>
                   <h4>Jam Pelayanan</h4>
                   <p>Senin - Jumat<br>08:00 - 16:00 WIB</p>
               </div>
               <div class="footer-item">
                   <i class="fas fa-phone-alt"></i>
                   <h4>Kontak Darurat</h4>
                   <p>(021) 123-4567<br>24 Jam Siaga</p>
               </div>
           </div>
           <div class="copyright">
               © 2024 Pemerintah Desa Cerma. Melayani dengan Hati untuk Kemajuan Bersama.
           </div>
       </div>
   </div>

   <div class="made-with">
       <i class="fas fa-code"></i> Made with ❤️
   </div>

   <script>
       // EmailJS Configuration
       // GANTI DENGAN CREDENTIALS ANDA SENDIRI
       const EMAILJS_PUBLIC_KEY = "0q1e5RBLnsIgQM2uw"; // Dapatkan dari emailjs.com
       const EMAILJS_SERVICE_ID = "service_yjj7rpa"; // Contoh: "service_abc123"
       const EMAILJS_TEMPLATE_ID = "template_w12ie4l"; // Contoh: "template_xyz456"

       // Initialize EmailJS
       (function() {
           emailjs.init(EMAILJS_PUBLIC_KEY);
       })();

       // Create floating particles
       function createParticles() {
           const particlesContainer = document.getElementById('particles');
           const particleCount = 15;

           for (let i = 0; i < particleCount; i++) {
               const particle = document.createElement('div');
               particle.className = 'particle';
               
               // Random size between 4px and 12px
               const size = Math.random() * 8 + 4;
               particle.style.width = size + 'px';
               particle.style.height = size + 'px';
               
               // Random horizontal position
               particle.style.left = Math.random() * 100 + '%';
               
               // Random animation delay
               particle.style.animationDelay = Math.random() * 15 + 's';
               
               // Random animation duration
               particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
               
               particlesContainer.appendChild(particle);
           }
       }

       // Initialize particles
       createParticles();

       // Show message function
       function showMessage(type, message) {
           const errorDiv = document.getElementById('errorMessage');
           const successDiv = document.getElementById('successMessage');
           
           // Hide both messages first
           errorDiv.style.display = 'none';
           successDiv.style.display = 'none';
           
           if (type === 'error') {
               errorDiv.textContent = message;
               errorDiv.style.display = 'block';
               errorDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
           } else if (type === 'success') {
               successDiv.textContent = message;
               successDiv.style.display = 'block';
               successDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
           }
       }

       // Form submission with EmailJS
       document.getElementById('reportForm').addEventListener('submit', function(e) {
           e.preventDefault();
           
           const agreement = document.getElementById('agreement');
           if (!agreement.checked) {
               // Animate shake effect for checkbox
               const checkboxGroup = document.querySelector('.checkbox-group');
               checkboxGroup.style.animation = 'shake 0.5s ease-in-out';
               setTimeout(() => {
                   checkboxGroup.style.animation = '';
               }, 500);
               
               showMessage('error', 'Mohon centang persetujuan untuk melanjutkan.');
               return;
           }
           
           // Validate EmailJS configuration
           if (!EMAILJS_PUBLIC_KEY || !EMAILJS_SERVICE_ID || !EMAILJS_TEMPLATE_ID ||
               EMAILJS_PUBLIC_KEY === "YOUR_EMAILJS_PUBLIC_KEY") {
               showMessage('error', 'Konfigurasi EmailJS belum lengkap. Hubungi administrator.');
               return;
           }
           
           // Show loading state with animation
           const submitBtn = document.querySelector('.submit-btn');
           const originalContent = submitBtn.innerHTML;
           submitBtn.innerHTML = '<span class="loading"></span> Mengirim Laporan...';
           submitBtn.disabled = true;
           
           // Hide any previous messages
           document.getElementById('errorMessage').style.display = 'none';
           document.getElementById('successMessage').style.display = 'none';
           
           // Prepare template parameters
           const formData = new FormData(this);
           const templateParams = {
               nama: formData.get('nama'),
               telepon: formData.get('telepon'),
               email: formData.get('email'),
               alamat: formData.get('alamat'),
               jenis_laporan: formData.get('jenis_laporan'),
               judul: formData.get('judul'),
               detail: formData.get('detail'),
               tanggal: formData.get('tanggal'),
               urgensi: formData.get('urgensi'),
               timestamp: new Date().toLocaleString('id-ID'),
               to_email: 'admin@desax.co.id' // Email tujuan
           };
           
           // Send email using EmailJS
           emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, templateParams)
               .then(function(response) {
                   console.log('SUCCESS!', response.status, response.text);
                   
                   // Show success animation
                   submitBtn.innerHTML = '<span class="success-checkmark"></span> Laporan Terkirim!';
                   submitBtn.style.background = 'linear-gradient(135deg, #10b981, #047857)';
                   
                   showMessage('success', 'Laporan Anda berhasil dikirim! Tim kami akan segera menindaklanjuti dalam 1×24 jam.');
                   
                   // Reset form
                   document.getElementById('reportForm').reset();
                   
                   // Reset button after 3 seconds
                   setTimeout(() => {
                       submitBtn.innerHTML = originalContent;
                       submitBtn.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                       submitBtn.disabled = false;
                   }, 3000);
                   
               }, function(error) {
                   console.log('FAILED...', error);
                   
                   showMessage('error', 'Gagal mengirim laporan: ' + (error.text || 'Terjadi kesalahan jaringan.'));
                   
                   // Reset button
                   submitBtn.innerHTML = originalContent;
                   submitBtn.disabled = false;
               });
       });

       // Phone number formatting with animation
       document.querySelector('input[name="telepon"]').addEventListener('input', function(e) {
           let value = e.target.value.replace(/\D/g, '');
           if (value.length > 0 && !value.startsWith('0')) {
               value = '0' + value;
           }
           if (value.length > 13) {
               value = value.slice(0, 13);
               // Animate input to show limit reached
               this.style.transform = 'scale(1.02)';
               this.style.borderColor = '#f59e0b';
               setTimeout(() => {
                   this.style.transform = '';
                   this.style.borderColor = '#e5e7eb';
               }, 300);
           }
           e.target.value = value;
       });

       // Auto-resize textarea with smooth animation
       const textarea = document.querySelector('textarea[name="detail"]');
       textarea.addEventListener('input', function(e) {
           e.target.style.height = 'auto';
           const newHeight = Math.min(e.target.scrollHeight, 300);
           e.target.style.height = newHeight + 'px';
           
           // Add typing indicator animation
           e.target.style.borderColor = '#10b981';
           setTimeout(() => {
               e.target.style.borderColor = '#e5e7eb';
           }, 300);
       });

       // Set maximum date to today
       document.querySelector('input[name="tanggal"]').max = new Date().toISOString().split('T')[0];

       // Enhanced form validation with animations
       const inputs = document.querySelectorAll('input, select, textarea');
       inputs.forEach(input => {
           // Focus animation
           input.addEventListener('focus', function() {
               this.parentNode.style.transform = 'scale(1.02)';
               this.parentNode.style.transition = 'transform 0.3s ease';
           });

           // Blur animation
           input.addEventListener('blur', function() {
               this.parentNode.style.transform = 'scale(1)';
               
               if (this.hasAttribute('required') && !this.value.trim()) {
                   this.style.borderColor = '#ef4444';
                   this.style.animation = 'shake 0.5s ease-in-out';
                   setTimeout(() => {
                       this.style.animation = '';
                   }, 500);
               } else if (this.value.trim()) {
                   this.style.borderColor = '#10b981';
                   // Success pulse animation
                   this.style.boxShadow = '0 0 0 3px rgba(16, 185, 129, 0.2)';
                   setTimeout(() => {
                       this.style.borderColor = '#e5e7eb';
                       this.style.boxShadow = '';
                   }, 1000);
               }
           });

           // Typing animation for text inputs
           if (input.type === 'text' || input.type === 'email' || input.tagName === 'TEXTAREA') {
               input.addEventListener('input', function() {
                   const label = this.parentNode.querySelector('label i');
                   if (label) {
                       label.style.transform = 'scale(1.2) rotate(5deg)';
                       label.style.color = '#667eea';
                       setTimeout(() => {
                           label.style.transform = '';
                           label.style.color = '#667eea';
                       }, 200);
                   }
               });
           }
       });

       // Parallax effect for header
       window.addEventListener('scroll', function() {
           const scrolled = window.pageYOffset;
           const header = document.querySelector('.header');
           const rate = scrolled * -0.5;
           header.style.transform = `translateY(${rate}px)`;
       });

       // Intersection Observer for scroll animations
       const observerOptions = {
           threshold: 0.1,
           rootMargin: '0px 0px -50px 0px'
       };

       const observer = new IntersectionObserver(function(entries) {
           entries.forEach(entry => {
               if (entry.isIntersecting) {
                   entry.target.style.animationPlayState = 'running';
                   
                   // Add special effects for different elements
                   if (entry.target.classList.contains('feature')) {
                       setTimeout(() => {
                           entry.target.style.transform = 'translateY(0) scale(1)';
                       }, 100);
                   }
                   
                   if (entry.target.classList.contains('form-group')) {
                       entry.target.style.opacity = '1';
                       entry.target.style.transform = 'translateX(0) translateY(0)';
                   }
               }
           });
       }, observerOptions);

       // Observe all animated elements
       document.querySelectorAll('.feature, .form-group, .footer-item').forEach(el => {
           observer.observe(el);
       });

       // Add smooth scroll behavior
       document.documentElement.style.scrollBehavior = 'smooth';

       // Add click ripple effect to buttons and interactive elements
       function createRipple(event) {
           const button = event.currentTarget;
           const ripple = document.createElement('span');
           const rect = button.getBoundingClientRect();
           const size = Math.max(rect.width, rect.height);
           const x = event.clientX - rect.left - size / 2;
           const y = event.clientY - rect.top - size / 2;
           
           ripple.style.cssText = `
               position: absolute;
               border-radius: 50%;
               background: rgba(255, 255, 255, 0.3);
               transform: scale(0);
               left: ${x}px;
               top: ${y}px;
               width: ${size}px;
               height: ${size}px;
               animation: ripple 0.6s linear;
               pointer-events: none;
           `;
           
           button.style.position = 'relative';
           button.style.overflow = 'hidden';
           button.appendChild(ripple);
           
           setTimeout(() => {
               ripple.remove();
           }, 600);
       }

       // Add ripple effect to submit button
       document.querySelector('.submit-btn').addEventListener('click', createRipple);

       // Add hover sound effect simulation (visual feedback)
       document.querySelectorAll('.feature, .footer-item, .submit-btn').forEach(element => {
           element.addEventListener('mouseenter', function() {
               this.style.filter = 'brightness(1.05)';
           });
           
           element.addEventListener('mouseleave', function() {
               this.style.filter = '';
           });
       });

       // Loading screen animation
       window.addEventListener('load', function() {
           document.body.style.opacity = '0';
           document.body.style.transition = 'opacity 0.5s ease';
           
           setTimeout(() => {
               document.body.style.opacity = '1';
           }, 100);
       });

       // Add counter animation for features
       function animateCounters() {
           const features = document.querySelectorAll('.feature');
           features.forEach((feature, index) => {
               const observer = new IntersectionObserver((entries) => {
                   entries.forEach(entry => {
                       if (entry.isIntersecting) {
                           // Add number animation effect
                           const icon = entry.target.querySelector('.feature-icon i');
                           let count = 0;
                           const interval = setInterval(() => {
                               count++;
                               icon.style.transform = `scale(${1 + count * 0.1})`;
                               if (count >= 5) {
                                   clearInterval(interval);
                                   icon.style.transform = 'scale(1)';
                               }
                           }, 100);
                       }
                   });
               });
               observer.observe(feature);
           });
       }

       animateCounters();

       // Add shake animation keyframes
       const shakeKeyframes = `
           @keyframes shake {
               0%, 100% { transform: translateX(0); }
               10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
               20%, 40%, 60%, 80% { transform: translateX(5px); }
           }
       `;
       
       const rippleKeyframes = `
           @keyframes ripple {
               to {
                   transform: scale(4);
                   opacity: 0;
               }
           }
       `;
       
       // Add keyframes to document
       const style = document.createElement('style');
       style.textContent = shakeKeyframes + rippleKeyframes;
       document.head.appendChild(style);

       // Disable animations for users who prefer reduced motion
       if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
           document.querySelectorAll('*').forEach(el => {
               el.style.animationDuration = '0.01ms';
               el.style.transitionDuration = '0.01ms';
           });
       }

       // Print form data for debugging (remove in production)
       function debugFormData() {
           const form = document.getElementById('reportForm');
           form.addEventListener('change', function() {
               const formData = new FormData(form);
               console.log('Form Data:');
               for (let [key, value] of formData.entries()) {
                   console.log(key, value);
               }
           });
       }
       
       // Uncomment for debugging
       // debugFormData();
   </script>
</body>
</html>